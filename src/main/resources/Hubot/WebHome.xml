<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc reference="Hubot.WebHome" locale="">
  <web>Hubot</web>
  <name>WebHome</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <parent>sandbox:Main.WebHome</parent>
  <creator>xwiki:XWiki.Admin</creator>
  <author>xwiki:XWiki.Admin</author>
  <customClass/>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <creationDate>1483225200000</creationDate>
  <date>1483225200000</date>
  <contentUpdateDate>1483225200000</contentUpdateDate>
  <version>1.1</version>
  <title>Hubot XWiki Integration</title>
  <defaultTemplate/>
  <validationScript/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.0</syntaxId>
  <hidden>true</hidden>
  <attachment>
    <filename>docextra.vm</filename>
    <filesize>6968</filesize>
    <author>xwiki:XWiki.ldubost</author>
    <date>1497201194000</date>
    <version>1.1</version>
    <comment/>
    <content>IyMKIyMgRG9jdW1lbnQgZm9vdGVyOiB0YWdzLCBjcmVhdGlvbiBkYXRlLCBtb2RpZmljYXRpb24g
ZGF0ZQojIwojIwo8ZGl2IGlkPSJ4ZG9jRm9vdGVyIj4KICAjdGVtcGxhdGUoImRvY3VtZW50VGFn
cy52bSIpCiAgPGRpdiBpZD0ieGRvY0F1dGhvcnMiPgogICAgPGRpdiBjbGFzcz0ieGRvY0NyZWF0
aW9uIj4gIyMgQ3JlYXRpb24KICAgICAgJHNlcnZpY2VzLmxvY2FsaXphdGlvbi5yZW5kZXIoJ2Nv
cmUuZm9vdGVyLmNyZWF0aW9uJywgWyR4d2lraS5nZXRVc2VyTmFtZSgkZG9jLmNyZWF0b3IpLCAk
eHdpa2kuZm9ybWF0RGF0ZSgkZG9jLmNyZWF0aW9uRGF0ZSldKTxici8+CiAgICAgICNpZigkdGRv
Yy5yZWFsTGFuZ3VhZ2UgIT0gJGRvYy5yZWFsTGFuZ3VhZ2UpCiAgICAgICAgJHNlcnZpY2VzLmxv
Y2FsaXphdGlvbi5yZW5kZXIoJ2NvcmUuZm9vdGVyLnRyYW5zbGF0aW9uQ3JlYXRpb24nLCBbJHRk
b2MucmVhbExhbmd1YWdlLCAkeHdpa2kuZ2V0VXNlck5hbWUoJHRkb2MuY3JlYXRvciksICR4d2lr
aS5mb3JtYXREYXRlKCR0ZG9jLmNyZWF0aW9uRGF0ZSldKTxici8+CiAgICAgICNlbmQKICAgIDwv
ZGl2PgogIDwvZGl2Pgo8L2Rpdj4KIyMKIyMKIyMgTW9yZSBkb2N1bWVudCByZWxhdGVkIGRhdGE6
IGNvbW1lbnRzLCBhdHRhY2htZW50cyAuLi4KIyMKPGRpdiBpZD0ieHdpa2lkYXRhIj4KIyMKIyMg
QnVpbGQgdGhlIGxpc3Qgb2YgZG9jdW1lbnRzIGV4dHJhcyB0byBkaXNwbGF5LCBpZiBpdCBkb2Vz
IG5vdCBleGlzdCAoZGVmYXVsdCkuCiMjIExpc3QgZm9ybWF0IDogWydFeHRyYUFuY2hvcicsICdF
eHRyYU5hbWUnLCAnRXh0cmFUYWJUZXh0JywgRXh0cmFOdW1iZXJPZkl0ZW1zLCAnZXh0cmF0ZW1w
bGF0ZS52bScsICdrZXlib2FyZFNob3J0Y3V0J10KIyMKI2lmICghJGRvY2V4dHJhcykKICAjc2V0
ICgkZG9jZXh0cmFzID0gW10pCiAgI2lmICgkc2hvd2NvbW1lbnRzKQogICAgJHh3aWtpLmpzZngu
dXNlKCd1aWNvbXBvbmVudHMvdmlld2Vycy9jb21tZW50cy5qcycsIHsnZm9yY2VTa2luQWN0aW9u
JzogdHJ1ZSwgJ2xhbmd1YWdlJzogJHt4Y29udGV4dC5sYW5ndWFnZX19KQogICAgJHh3aWtpLnNz
ZngudXNlKCd1aWNvbXBvbmVudHMvdmlld2Vycy9jb21tZW50cy5jc3MnLCB0cnVlKQogICAgI3Nl
dCAoJGRpc2NhcmQgPSAkZG9jZXh0cmFzLmFkZChbJ0NvbW1lbnRzJywgJ2NvbW1lbnRzJywgJHNl
cnZpY2VzLmxvY2FsaXphdGlvbi5yZW5kZXIoJ2RvY2V4dHJhLmNvbW1lbnRzJyksICRkb2MuZ2V0
T2JqZWN0cygnWFdpa2kuWFdpa2lDb21tZW50cycpLnNpemUoKSwgJ2NvbW1lbnRzaW5saW5lLnZt
JywgJHNlcnZpY2VzLmxvY2FsaXphdGlvbi5yZW5kZXIoJ2NvcmUuc2hvcnRjdXRzLnZpZXcuY29t
bWVudHMnKV0pKQogICNlbmQKICAgICNzZXQgKCRkaXNjYXJkID0gJGRvY2V4dHJhcy5hZGQoWydN
YXRyaXgnLCAnbWF0cml4JywgIk1hdHJpeCIsICIiLCAnbWF0cml4LnZtJywgIk1hdHJpeCJdKSkK
ICAjaWYgKCRzaG93YW5ub3RhdGlvbnMpCiAgICAjaWYgKCEkYW5ub3RhdGlvbkNvdW50KQogICAg
ICAjIyBBbm5vdGF0aW9uIGNvdW50IGlzIHN1cHBvc2VkIHRvIGJlIGRlZmluZWQgaW4geHdpa2l2
YXJzLnZtLiBJZiBmb3IgYSByZWFzb24gb3IgYW5vdGhlciBpdCBpcyBub3QKICAgICAgIyMgZGVm
aW5lZCBhdCB0aGlzIHBvaW50LCB3ZSB0YXAgaW50byB0aGUgc3RhbmRhcmQgYW5ub3RhdGlvbiBj
bGFzcywgYW5kIGRvIG5vdCBsb2FkIGFnYWluIHRoZQogICAgICAjIyBjb25maWcgZG9jdW1lbnQu
IFRoaXMgaG93ZXZlciBzaG91bGQgbm90IGhhcHBlbi4KICAgICAgI3NldCAoJGFubm90YXRpb25D
b3VudCA9ICRkb2MuZ2V0T2JqZWN0cygnQW5ub3RhdGlvbkNvZGUuQW5ub3RhdGlvbkNsYXNzJyku
c2l6ZSgpKQogICAgI2VuZAogICAgI3NldCAoJGRpc2NhcmQgPSAkZG9jZXh0cmFzLmFkZChbJ0Fu
bm90YXRpb25zJywgJ2Fubm90YXRpb25zJywgJHNlcnZpY2VzLmxvY2FsaXphdGlvbi5yZW5kZXIo
J2RvY2V4dHJhLmFubm90YXRpb25zJyksICRhbm5vdGF0aW9uQ291bnQsICdhbm5vdGF0aW9uc2lu
bGluZS52bScsICRzZXJ2aWNlcy5sb2NhbGl6YXRpb24ucmVuZGVyKCdjb3JlLnNob3J0Y3V0cy52
aWV3LmFubm90YXRpb25zJyldKSkKICAjZW5kCiAgI2lmICgkc2hvd2F0dGFjaG1lbnRzKQogICAg
JHh3aWtpLmpzZngudXNlKCd1aWNvbXBvbmVudHMvd2lkZ2V0cy91cGxvYWQuanMnLCB7J2ZvcmNl
U2tpbkFjdGlvbic6IHRydWUsICdsYW5ndWFnZSc6ICR7eGNvbnRleHQubGFuZ3VhZ2V9fSkKICAg
ICR4d2lraS5zc2Z4LnVzZSgndWljb21wb25lbnRzL3dpZGdldHMvdXBsb2FkLmNzcycsIHRydWUp
CiAgICAkeHdpa2kuanNmeC51c2UoJ2pzL3h3aWtpL3ZpZXdlcnMvYXR0YWNobWVudHMuanMnLCB7
J2ZvcmNlU2tpbkFjdGlvbic6IHRydWUsICdsYW5ndWFnZSc6ICR7eGNvbnRleHQubGFuZ3VhZ2V9
fSkKICAgICR4d2lraS5zc2Z4LnVzZSgnanMveHdpa2kvdmlld2Vycy9hdHRhY2htZW50cy5jc3Mn
LCB0cnVlKQogICAgIyMjIFN1cHBvcnQgYXR0YWNobWVudCBzb3J0aW5nCiAgICAjc2V0ICgkc29y
dEF0dGFjaG1lbnRzQnkgPSAiJCF7cmVxdWVzdC5zb3J0QXR0YWNobWVudHNCeX0iKQogICAgI2lm
ICgkc29ydEF0dGFjaG1lbnRzQnkgIT0gJycpCiAgICAgICMjIFByZXBlbmQgcmVxdWVzdCBwYXJh
bWV0ZXIKICAgICAgI3NldCAoJHNvcnRBdHRhY2htZW50c0J5ID0gIiZzb3J0QXR0YWNobWVudHNC
eT0kZXNjYXBldG9vbC51cmwoJHtzb3J0QXR0YWNobWVudHNCeX0pIikKICAgICNlbmQKICAgICNz
ZXQgKCRkaXNjYXJkID0gJGRvY2V4dHJhcy5hZGQoWydBdHRhY2htZW50cycsICdhdHRhY2htZW50
cycsICRzZXJ2aWNlcy5sb2NhbGl6YXRpb24ucmVuZGVyKCdkb2NleHRyYS5hdHRhY2htZW50cycp
LCAkZG9jLmdldEF0dGFjaG1lbnRMaXN0KCkuc2l6ZSgpLCAiYXR0YWNobWVudHNpbmxpbmUudm0k
IXtzb3J0QXR0YWNobWVudHNCeX0iLCAkc2VydmljZXMubG9jYWxpemF0aW9uLnJlbmRlcignY29y
ZS5zaG9ydGN1dHMudmlldy5hdHRhY2htZW50cycpXSkpCiAgI2VuZAogICNpZiAoJHNob3doaXN0
b3J5KQogICAgIyMgUGFnaW5hdGlvbiBzdHlsZQogICAgJHh3aWtpLnNzZngudXNlKCd1aWNvbXBv
bmVudHMvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmNzcycsIHRydWUpIyMKICAgICNzZXQgKCRkaXNj
YXJkID0gJGRvY2V4dHJhcy5hZGQoWydIaXN0b3J5JywgJ2hpc3RvcnknLCAkc2VydmljZXMubG9j
YWxpemF0aW9uLnJlbmRlcignZG9jZXh0cmEuaGlzdG9yeScpLCAtMSwgJ2hpc3RvcnlpbmxpbmUu
dm0nLCAkc2VydmljZXMubG9jYWxpemF0aW9uLnJlbmRlcignY29yZS5zaG9ydGN1dHMudmlldy5o
aXN0b3J5JyldKSkKICAjZW5kCiAgI2lmICgkc2hvd2luZm9ybWF0aW9uKQogICAgI3NldCAoJGRp
c2NhcmQgPSAkZG9jZXh0cmFzLmFkZChbJ0luZm9ybWF0aW9uJywgJ2luZm9ybWF0aW9uJywgJHNl
cnZpY2VzLmxvY2FsaXphdGlvbi5yZW5kZXIoJ2RvY2V4dHJhLmluZm9ybWF0aW9uJyksIC0xLCAn
aW5mb3JtYXRpb25pbmxpbmUudm0nLCAkc2VydmljZXMubG9jYWxpemF0aW9uLnJlbmRlcignY29y
ZS5zaG9ydGN1dHMudmlldy5pbmZvcm1hdGlvbicpXSkpCiAgI2VuZAojZW5kCiMjCiMjIFB1dCBh
bmNob3JzIGJlZm9yZSB0aGUgZm9vdGVyLCBvdGhlcndpc2UgdGhlIHRvcCBvZiBlYWNoIHNlY3Rp
b24gd291bGQgYmUgaGlkZGVuIGJ5IHRoZSBmbG9hdGluZyB0b3BtZW51CiMjCiNpZiAoJGRvY2V4
dHJhcy5zaXplKCkgPiAwKQo8ZGl2IGlkPSJkb2NleHRyYWFuY2hvcnMiPgojZm9yZWFjaCAoJGRv
Y2V4dHJhIGluICRkb2NleHRyYXMpPHNwYW4gaWQ9IiR7ZG9jZXh0cmEuZ2V0KDApfWFuY2hvciI+
Jm5ic3A7PC9zcGFuPiNlbmQKPC9kaXY+CiNlbmQKIyMKIyMgRGlzcGxheSB0YWJzCiMjCiNpZigk
ZG9jZXh0cmFzLnNpemUoKSA+IDApCiAgPGRpdiBpZD0ieHdpa2lkYXRhY29udGVudHMiPgogICAg
PGRpdiBjbGFzcz0iZmxvYXRjb250YWluZXIiIGlkPSJkb2NFeHRyYVRhYnMiPgogICAgICA8dWwg
Y2xhc3M9Inh3aWtpdGFiYmFyIiBpZD0iZG9jRXh0cmFzVGFic1VsIj4KICAgICAgICAjZm9yZWFj
aCgkZG9jZXh0cmEgaW4gJGRvY2V4dHJhcykKICAgICAgICAgIDxsaSBpZD0iJHtkb2NleHRyYS5n
ZXQoMCl9dGFiIj4KICAgICAgICAgICAgPGEgaWQ9IiR7ZG9jZXh0cmEuZ2V0KDApfWxpbmsiIGhy
ZWY9IiRkb2MuZ2V0VVJMKCd2aWV3JywgInZpZXdlcj0ke2RvY2V4dHJhLmdldCgxKX0iKSI+CiAg
ICAgICAgICAgICAgJGRvY2V4dHJhLmdldCgyKSAjaWYoJGRvY2V4dHJhLmdldCgzKSA+PSAwKSA8
c3BhbiBjbGFzcz0iaXRlbUNvdW50Ij4kc2VydmljZXMubG9jYWxpemF0aW9uLnJlbmRlcignZG9j
ZXh0cmEuZXh0cmFuYicsIFskZG9jZXh0cmEuZ2V0KDMpXSk8L3NwYW4+ICNlbmQKICAgICAgICAg
ICAgPC9hPgogICAgICAgICAgPC9saT4KICAgICAgICAjZW5kCiAgICAgIDwvdWw+CiAgICA8L2Rp
dj4KICAgICMjCiAgICAjIyBEaXNwbGF5IHBhbmVzIChBSkFYIHBsYWNlaG9sZGVycykKICAgICMj
CiAgICA8ZGl2IGlkPSJkb2NleHRyYXBhbmVzIj4KICAgICAgI2ZvcmVhY2goJGRvY2V4dHJhIGlu
ICRkb2NleHRyYXMpCiAgICAgICAgPGRpdiBpZD0iJHtkb2NleHRyYS5nZXQoMCl9cGFuZSIgY2xh
c3M9ImhpZGRlbiBlbXB0eSI+PC9kaXY+CiAgICAgICNlbmQKICAgIDwvZGl2PgogICAgIyMKICAg
ICMjIEphdmFTY3JpcHQgY29kZSBnZW5lcmF0aW9uCiAgICAjIwogICAgPHNjcmlwdCB0eXBlPSJ0
ZXh0L2phdmFzY3JpcHQiPgogICAgICB2YXIgaGFzaHZpZXdlciA9IHNlbGYuZG9jdW1lbnQubG9j
YXRpb24uaGFzaC5zdWJzdHJpbmcoMSk7CiAgICAgICNmb3JlYWNoKCRkb2NleHRyYSBpbiAkZG9j
ZXh0cmFzKQogICAgICAgICNzZXQgKCRleHRyYUFuY2hvciA9ICRkb2NleHRyYVswXSkKICAgICAg
ICAjc2V0ICgkZXh0cmFOYW1lID0gJGRvY2V4dHJhWzFdKQogICAgICAgICNzZXQgKCRleHRyYVRl
bXBsYXRlID0gJGRvY2V4dHJhWzRdKQogICAgICAgICNzZXQgKCRleHRyYVNob3J0Y3V0ID0gJGRv
Y2V4dHJhWzVdKQogICAgICAgICMjCiAgICAgICAgIyMgU2V0IHRoZSBleHRyYSB0byBsb2FkCiAg
ICAgICAgIyMKICAgICAgICAjaWYgKCR2ZWxvY2l0eUNvdW50ID09IDEpCiAgICAgICAgICB2YXIg
ZXh0cmFJbml0ID0gZnVuY3Rpb24oKXsgWFdpa2kuZGlzcGxheURvY0V4dHJhKCIke2V4dHJhQW5j
aG9yfSIsICIke2V4dHJhVGVtcGxhdGV9IiwgZmFsc2UpIH07CiAgICAgICAgI2VuZAogICAgICAg
IGlmIChoYXNodmlld2VyID09ICIke2V4dHJhQW5jaG9yfSIpIHsKICAgICAgICAgIHZhciBleHRy
YUluaXQgPSBmdW5jdGlvbigpeyBYV2lraS5kaXNwbGF5RG9jRXh0cmEoIiR7ZXh0cmFBbmNob3J9
IiwgIiR7ZXh0cmFUZW1wbGF0ZX0iLCB0cnVlKSB9OwogICAgICAgIH0KICAgICAgICAjIwogICAg
ICAgICMjIFJlcGxhY2UgdGFiIGxpbmsKICAgICAgICAjIwogICAgICAgIGlmICgkKCIke2V4dHJh
QW5jaG9yfWxpbmsiKSAhPSBudWxsKSB7CiAgICAgICAgICAkKCIke2V4dHJhQW5jaG9yfWxpbmsi
KS5ocmVmPSIjJHtleHRyYUFuY2hvcn0iOwogICAgICAgICAgRXZlbnQub2JzZXJ2ZSgkKCIke2V4
dHJhQW5jaG9yfWxpbmsiKSwgImNsaWNrIiwgZnVuY3Rpb24oKXsgWFdpa2kuZGlzcGxheURvY0V4
dHJhKCIke2V4dHJhQW5jaG9yfSIsICIke2V4dHJhVGVtcGxhdGV9IiwgZmFsc2UpOyB9LCBmYWxz
ZSk7CiAgICAgICAgfQogICAgICAgICMjCiAgICAgICAgIyMgUmVwbGFjZSB0b3AgbWVudSBsaW5r
IChpZiBhbnkpCiAgICAgICAgIyMKICAgICAgICBpZiAoJCgidG1TaG93JHtleHRyYUFuY2hvcn0i
KSAhPSBudWxsKSB7CiAgICAgICAgICAkKCJ0bVNob3cke2V4dHJhQW5jaG9yfSIpLmhyZWY9IiMk
e2V4dHJhQW5jaG9yfSI7CiAgICAgICAgICBFdmVudC5vYnNlcnZlKCQoInRtU2hvdyR7ZXh0cmFB
bmNob3J9IiksICJjbGljayIsIGZ1bmN0aW9uKCl7IFhXaWtpLmRpc3BsYXlEb2NFeHRyYSgiJHtl
eHRyYUFuY2hvcn0iLCAiJHtleHRyYVRlbXBsYXRlfSIsIHRydWUpOyB9LCBmYWxzZSk7CiAgICAg
ICAgfQogICAgICAgICMjCiAgICAgICAgIyMgUmVwbGFjZSBzaG9ydGN1dCBsaW5rIChpZiBhbnkp
CiAgICAgICAgIyMKICAgICAgICBpZiAoJCgiJHtleHRyYU5hbWV9c2hvcnRjdXQiKSAhPSBudWxs
KSB7CiAgICAgICAgICAkKCIke2V4dHJhTmFtZX1zaG9ydGN1dCIpLmRvd24oJ2EnKS5ocmVmPSIj
JHtleHRyYU5hbWV9IjsKICAgICAgICAgIEV2ZW50Lm9ic2VydmUoJCgiJHtleHRyYU5hbWV9c2hv
cnRjdXQiKSwgImNsaWNrIiwgZnVuY3Rpb24oKXsgWFdpa2kuZGlzcGxheURvY0V4dHJhKCIke2V4
dHJhQW5jaG9yfSIsICIke2V4dHJhVGVtcGxhdGV9IiwgdHJ1ZSk7IH0sIGZhbHNlKTsKICAgICAg
ICB9CiAgICAgICAgIyMKICAgICAgICAjIyBPdmVycmlkZSBrZXlib2FyZCBzaG9ydGN1dCAoaWYg
YW55KQogICAgICAgICMjCiAgICAgICAgI2lmICgka2V5Ym9hcmRTaG9ydGN1dHNFbmFibGVkICYm
ICIkIWV4dHJhU2hvcnRjdXQiICE9ICIiKQogICAgICAgICAgc2hvcnRjdXQucmVtb3ZlKCIkZXh0
cmFTaG9ydGN1dCIpOwogICAgICAgICAgc2hvcnRjdXQuYWRkKCIkZXh0cmFTaG9ydGN1dCIsIGZ1
bmN0aW9uKCkgeyBYV2lraS5kaXNwbGF5RG9jRXh0cmEoIiR7ZXh0cmFBbmNob3J9IiwgIiR7ZXh0
cmFUZW1wbGF0ZX0iLCB0cnVlKTsgfSwgeyAndHlwZSc6J2tleXByZXNzJywgJ3Byb3BhZ2F0ZSc6
ZmFsc2UsICdkaXNhYmxlX2luX2lucHV0Jzp0cnVlIH0pOwogICAgICAgICNlbmQKICAgICAgI2Vu
ZAogICAgICBkb2N1bWVudC5vYnNlcnZlKCJkb206bG9hZGVkIiwgZXh0cmFJbml0LCBmYWxzZSk7
CiAgICA8L3NjcmlwdD4KICA8L2Rpdj4gIyMgeHdpa2lkYXRhY29udGVudHMKI2VuZAo8L2Rpdj4g
ICMjIHh3aWtpZGF0YQo=
</content>
  </attachment>
  <attachment>
    <filename>matrix.vm</filename>
    <filesize>42</filesize>
    <author>xwiki:XWiki.ldubost</author>
    <date>1497201192000</date>
    <version>1.1</version>
    <comment/>
    <content>I2luY2x1ZGVJbkNvbnRleHQoIkh1Ym90Lk1hdHJpeERvY0V4dHJhIikK
</content>
  </attachment>
  <attachment>
    <filename>xwiki.coffee</filename>
    <filesize>2069</filesize>
    <author>xwiki:XWiki.ldubost</author>
    <date>1497201116000</date>
    <version>1.1</version>
    <comment/>
    <content>IyBEZXNjcmlwdGlvbjoKIyAgIFhXaWtpIGJvdAojCiMgICBUaGlzIHNjcmlwdCBhbGxvd3MgaW50
ZXJhY3Rpb24gd2l0aCBYV2lraS4KIyAgIFRoZSBib3QgY29tbWFuZHMgYXJlCiMKIyAgIHh3aWtp
IHNlYXJjaCBbc29sciBzZWFyY2ggdGVybXNdCiMKIyAgIEFsc28gWFdpa2kgY2FuIHNlbmQgY2Fs
bGJhY2tzIHRvIEh1Ym90IHRvIHNlbmQgbm90aWZpY2F0aW9ucyB0byB0aGUgcHJvcGVyIGNoYW5u
ZWxzCiMgICBJbiBYV2lraSB5b3UgaW5kaWNhdGUgYSBjaGFubmVsIGZvciBhIHN1Yi13aWtpLCBh
IHNwYWNlIG9yIGEgcGFnZSBhbmQgbm90aWZpY2F0aW9ucyB3aWxsIGJlIHNlbnQgdG8gdGhlIGNo
YW5uZWwKIwptb2R1bGUuZXhwb3J0cyA9IChyb2JvdCkgLT4KCiAgcm9ib3QucmVzcG9uZCAvc2Vh
cmNoICguKikvLCAocmVzKSAtPgogICBxdWVyeSA9IHJlcy5tYXRjaFsxXQogICByZXMucmVwbHkg
IlNlYXJjaCBmb3IgI3txdWVyeX0sIHBsZWFzZSB3YWl0Li4uIgogICB1cmwgPSAiI3twcm9jZXNz
LmVudi5YV0lLSV9VUkx9cmVzdC93aWtpcy9xdWVyeT9tZWRpYT1qc29uJnByZXR0eU5hbWVzPXRy
dWUmdHlwZT1zb2xyJnE9I3txdWVyeX0iCiAgIHJvYm90Lmh0dHAodXJsKQogICAgLmhlYWRlcign
QWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLmhlYWRlcignVXNlci1BZ2VudCcsICdu
b3NzbycpCiAgICAuYXV0aChwcm9jZXNzLmVudi5YV0lLSV9VU0VSTkFNRSwgcHJvY2Vzcy5lbnYu
WFdJS0lfUEFTU1dPUkQpCiAgICAuZ2V0KCkgKGVyciwgaHJlcywgYm9keSkgLT4KICAgICAgIyBl
cnJvciBjaGVja2luZyBjb2RlIGhlcmUKICAgICAgdXJsUmVnZXggPSAvKGh0dHAuKj86XC9cLyko
Lio/KShbLl0uKj8pKFwvcmVzdFwvd2lraXNcLykoLio/KVwvc3BhY2VzXC8oLiopLwogICAgICBk
YXRhID0gSlNPTi5wYXJzZSBib2R5CiAgICAgIHN0ciA9ICJOdW1iZXIgUmVzdWx0OiAje2RhdGEu
c2VhcmNoUmVzdWx0cy5sZW5ndGh9XG4iCiAgICAgIGZvciBzZWFyY2hSZXN1bHQsIGkgaW4gZGF0
YS5zZWFyY2hSZXN1bHRzCiAgICAgICAgcGFnZVVybCA9IHNlYXJjaFJlc3VsdC5saW5rc1swXS5o
cmVmCiAgICAgICAgcGFnZVVybCA9IHBhZ2VVcmwucmVwbGFjZSB1cmxSZWdleCwgKG1hdGNoLCBw
MSwgcDIsIHAzLCBwNCwgcDUsIHA2KSAtPgogICAgICAgICAgIHJldHVybiBwMSArIHA1ICsgcDMg
KyAiL2Jpbi92aWV3LyIgKyBwNi5yZXBsYWNlKC9cL3NwYWNlc1wvL2csICIvIikucmVwbGFjZSgv
XC9wYWdlc1wvL2csICIvIikKCiAgICAgICAgc3RyICs9ICIje3NlYXJjaFJlc3VsdC5wYWdlRnVs
bE5hbWV9ICN7cGFnZVVybH1cbiIKICAgICAgcmVzLnJlcGx5IHN0cgoKICByb2JvdC5yb3V0ZXIu
cG9zdCAnL3h3aWtpL25vdGlmaWNhdGlvbnMvOnJvb20nLCAocmVxLCByZXMpIC0+CiAgICAgcm9v
bSAgID0gcmVxLnBhcmFtcy5yb29tCiAgICAgZGF0YSAgID0gaWYgcmVxLmJvZHkucGF5bG9hZD8g
dGhlbiBKU09OLnBhcnNlIHJlcS5ib2R5LnBheWxvYWQgZWxzZSByZXEuYm9keQogICAgIG1zZyA9
IGRhdGEubXNnCgogICAgIHJvYm90Lm1lc3NhZ2VSb29tIHJvb20sIG1zZwoKICAgICByZXMuc2Vu
ZCAnT0snCgogIHJvYm90LnJvdXRlci5wb3N0ICcveHdpa2kvbmV3Y2hhdC8nLCAocmVxLCByZXMp
IC0+CiAgICAgZGF0YSAgID0gaWYgcmVxLmJvZHkucGF5bG9hZD8gdGhlbiBKU09OLnBhcnNlIHJl
cS5ib2R5LnBheWxvYWQgZWxzZSByZXEuYm9keQogICAgIHJvb21OYW1lID0gZGF0YS5yb29tTmFt
ZQogICAgIG9wdGlvbnMgPQogICAgICAgbmFtZSA6IHJvb21OYW1lCiAgICAgICB2aXNpYmlsaXR5
IDogInB1YmxpYyIKCiAgICAgcm9ib3QuYWRhcHRlci5jbGllbnQuY3JlYXRlUm9vbSBvcHRpb25z
LCAoZXJyLCBkYXRhKSA9PgogICAgICAgcm9ib3QubG9nZ2VyLmVycm9yIGRhdGEKICAgICAgIHJl
cy5zZW5kIGRhdGEKCgogIHJvYm90LmVycm9yIChlcnIsIHJlcykgLT4KICAgIHJvYm90LmxvZ2dl
ci5lcnJvciAiRE9FUyBOT1QgQ09NUFVURSIKCiAgICBpZiByZXM/CiAgICAgcmVzLnJlcGx5ICJE
T0VTIE5PVCBDT01QVVRFIgo=
</content>
  </attachment>
  <object>
    <class>
      <name>XWiki.DocumentSheetBinding</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <sheet>
        <customDisplay/>
        <disabled>0</disabled>
        <name>sheet</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Sheet</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </sheet>
    </class>
    <name>Hubot.WebHome</name>
    <number>0</number>
    <className>XWiki.DocumentSheetBinding</className>
    <guid>5761d049-dcb7-458c-82d5-6d3c3719ed23</guid>
    <property>
      <sheet/>
    </property>
  </object>
  <object>
    <class>
      <name>XWiki.GadgetClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <content>
        <disabled>0</disabled>
        <editor>---</editor>
        <name>content</name>
        <number>2</number>
        <picker>0</picker>
        <prettyName>content</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </content>
      <position>
        <disabled>0</disabled>
        <name>position</name>
        <number>3</number>
        <picker>0</picker>
        <prettyName>position</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </position>
      <title>
        <disabled>0</disabled>
        <name>title</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>title</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </title>
    </class>
    <name>Hubot.WebHome</name>
    <number>0</number>
    <className>XWiki.GadgetClass</className>
    <guid>ba4a0a4c-925e-42f3-be8b-7ea68da214ed</guid>
    <property>
      <content>{{velocity}}
#set ($extraParams = '')
#if ($doc.space != 'Main')
  #set ($escapedDocumentReference = $services.rendering.escape($services.model.serialize($doc.documentReference,
    'default'), 'xwiki/2.1'))
  #set ($extraParams = "root='document:$escapedDocumentReference'")
#end
{{documentTree showTranslations="false" showAttachments="false" $extraParams /}}
{{/velocity}}</content>
    </property>
    <property>
      <position>1,1</position>
    </property>
    <property>
      <title>#if ($doc.space == 'Main')$services.localization.render('platform.dashboard.wiki.pages')#{else}$services.localization.render('platform.dashboard.space.documents', [$doc.plainTitle])#end</title>
    </property>
  </object>
  <object>
    <class>
      <name>XWiki.GadgetClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <content>
        <disabled>0</disabled>
        <editor>---</editor>
        <name>content</name>
        <number>2</number>
        <picker>0</picker>
        <prettyName>content</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </content>
      <position>
        <disabled>0</disabled>
        <name>position</name>
        <number>3</number>
        <picker>0</picker>
        <prettyName>position</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </position>
      <title>
        <disabled>0</disabled>
        <name>title</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>title</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </title>
    </class>
    <name>Hubot.WebHome</name>
    <number>1</number>
    <className>XWiki.GadgetClass</className>
    <guid>f72f72ce-8365-4b71-8688-5c729929d5e4</guid>
    <property>
      <content>{{velocity}}
#set($tagSpace = $NULL)
#if ($doc.space != "Main")
  #set($tagSpace = $services.rendering.escape($doc.space, 'xwiki/2.1'))
#end

{{tagcloud  space="$!tagSpace" /}}
{{/velocity}}</content>
    </property>
    <property>
      <position>1,2</position>
    </property>
    <property>
      <title>$services.localization.render('platform.dashboard.space.tagcloud', [$doc.plainTitle])</title>
    </property>
  </object>
  <object>
    <class>
      <name>XWiki.GadgetClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <content>
        <disabled>0</disabled>
        <editor>---</editor>
        <name>content</name>
        <number>2</number>
        <picker>0</picker>
        <prettyName>content</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </content>
      <position>
        <disabled>0</disabled>
        <name>position</name>
        <number>3</number>
        <picker>0</picker>
        <prettyName>position</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </position>
      <title>
        <disabled>0</disabled>
        <name>title</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>title</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </title>
    </class>
    <name>Hubot.WebHome</name>
    <number>2</number>
    <className>XWiki.GadgetClass</className>
    <guid>419ffa4b-3832-4b6a-b807-e231a49e6867</guid>
    <property>
      <content>{{velocity}}
#set($aSpace = $NULL)
#if ($doc.space != "Main")
  #set ($aSpace = $services.rendering.escape($doc.space, 'xwiki/2.1'))
#end

{{activity spaces="$!aSpace" /}}
{{/velocity}}</content>
    </property>
    <property>
      <position>2,1</position>
    </property>
    <property>
      <title>#if ($doc.space != 'Main')$services.localization.render('platform.dashboard.space.activity', [$doc.plainTitle])#{else}$services.localization.render('platform.dashboard.wiki.activity')#end</title>
    </property>
  </object>
  <content>
This is the home of the XWiki Hubot Integration page, which allows to integrate XWiki with Matrix, Slack, IRC and other chat systems. For now the integration has been tested with Matrix.

== Features available ==

This application provides:

* Notifications sent to chat channels (either a global channel, or a channel for a specific space or a specific page)
* Search XWiki from the chatbot.
* (Matrix only) Automatically display the chat interface and create chat channels for XWiki page 

To send messages to a specific channel for a page or a space, edit the page or space in object mode (Edit Object in Advanced mode) and add the Hubot.ChannelClass to the page. Once you have added the object, you can edit the "channel" field and indicate the proper channel. For Matrix the channel is in the form "!someid:matrix.org". You can get this ID in your chat client when viewing channel information.

To automatically create a Matrix chat you need the skin additions (described below). You should see a new tab next to the "Comments" tab and be able to create a chat-room from this Tab.

== Installation ==

To install and configure this application:

1/ Install Hubot and create your chat bot
2/ Add the XWiki Hubot Script attach:xwiki.coffee and start hubot with the proper environment variables and the proper adaptor
3/ Install the XWiki Hubot Integration Application (in each wiki, if you are using multiple wikis)
4/ Configure the XWiki Hubot Integration Application in the Main wiki
5/ (Only for Matrix) Add attach:docextra.vm and attach:matrix.vm to your Skin page (it can be XWiki.DefaultSkin if you have not changed it)

== Hubot Environment Variable ==

Here is the list of environment variables necessary:

{{code}}
export HUBOT_MATRIX_HOST_SERVER=https://matrix.org
export HUBOT_MATRIX_PASSWORD=YOURMATRIXUSERPASSOWORD
export XWIKI_USERNAME=YOURXWIKIUSER
export XWIKI_PASSWORD=YOURXWIKIPASSWORD
export HUBOT_LOG_LEVEL=debug
export EXPRESS_PORT=8001
./bin/hubot -a matrix
{{/code}}

</content>
</xwikidoc>
